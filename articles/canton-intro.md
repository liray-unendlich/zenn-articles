---
title: "分散型「金融」チェーンを探る、Canton Networkの概要と強み"
emoji: "🦁"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["canton network", "暗号資産", "RWA", "DeFi", "ブロックチェーン"]
published: false
publication_name: omakase
---

## 本記事の概要

本記事では、前半においては、非技術者かつブロックチェーンに関わっている方々に、「金融機関向けネットワーク」というお触れで作られた Canton Network にはどういった価値があるのかについて「金融機関向けネットワーク」とはどうあるべきかを念頭に置き説明します。その後、パイを取り合う競争相手や競合との違いを説明します。後半においては、ブロックチェーンのノードを立てているなど技術的な知見をお持ちの方に向け、Canton Network のアーキテクチャなど技術的な強みを解説します。

## 「金融機関向けネットワーク」とは何か
本稿において *「金融機関向けネットワーク」* という単語の意味は、銀行・証券会社等の規制の対象となる団体が各種法令・ガイドライン・各団体内の規則やそこから導出されるシステムの機能・非機能要件を満たしつつ、資産や決済のプログラマブルな取引を安全に行うことができるネットワークを指します。特に、国際標準（PFMI）で求められるガバナンス・リスク管理・最終性・オペレーショナルレジリエンス等を満たす。

昨今においては、JPYC 株式会社が資金決済法第 37 条に基づく資金移動業者として登録され、日本円建てステーブルコインを発行できるようになりました。企業もしくは金融機関がブロックチェーンを利用するうえでの法規制に関連する課題としては、例えば発行したトークンが資金決済法上に既定される暗号資産となるのか、金商法上で規定される有価証券に該当するかが挙げられます。また、行う事業の形態により、暗号資産交換業者のライセンス取得が必要なことに加え、トラベルルールへの対応等も必要となります。

本節では、まず金融機関がブロックチェーンのような分散型台帳技術を自身のビジネスに利用したいと考えるときに、どういった要件を求めているか、について*簡易に*議論します。

金融機関では、以下に示した理由から、機能・非機能問わず、種々の要件を利用するシステムに求めます。そういったものの多くは、PFMI（金融市場インフラの国際基準）や金融庁のガイドラインにより要請されるものです。

1. 選択的な匿名性
PFMI において、機密情報の厳重な保護及び当事者間での情報提供を両立させることが求められています。これに従えば、下が要件として求められます。
- 取引データは原則として、関係当事者間でのみ共有されること
- 監査・検証時のみ、開示できること
通常のパブリックブロックチェーンにおいては、トランザクションは公開されてしまうため、適合性は低くなります。

1. 監査適合性・証跡の完全性
金融庁のガイドラインによれば、事後に検証が可能なこと、取引実行の再構成・再検証の可能なことが求められます。これに従えば、下が要件として求められます。
- 改ざんが不可能なこと
- 取引（スマートコントラクトであれば、スマートコントラクトの実行ログ等）のトレース情報が取得できること
この点に関しては、通常のパブリックブロックチェーンでは、適切な履歴を保有するノードにおいて、適合します。

1. 高可用性
PFMI において、24 時間 365 日の連続運用、障害時の高速復旧が求められています。これに従えば、下が要件として求められます。
- BFT 耐性があること
- 可用性が十分に高いこと
十分に成熟したもしくはノード数が多いチェーンでは、適合していることがほとんどです。

1. ガバナンス・責任分離
PFMI/金融庁のガイドラインから、下が求められています。
- 運営主体が明確であり、システムの責任分界点が明確であること
通常のパブリックブロックチェーンにおいては、金銭的なインセンティブにおいてのみ結び付けられていることが多く、また permissionless なチェーンにおいては、不特定多数がチェーン運営に参加することにもなり適合性が低くなります。

1. ファイナリティ
PFMI においては、"final settlement is final" 決済確定後に巻き戻ることがないよう求められており、確率的ファイナリティでは認められない場合が生じます。多くのチェーンにおいては解決しつつあります。

こういった形で、複数の制約により、一概にパブリックブロックチェーンで金融市場インフラを構築できるとは言えません。金融インフラ水準としては、制御可能なプライバシー機能、ファイナリティ、ガバナンスや責任分離が求められています。

次節では、Canton Network の概要を説明し、今節で議論してきた金融機関の求める要件を満たすことを見ていきましょう。

## Canton Networkの概要
本節では、前節で議論した金融機関特有の要件に対して、どのように、「金融機関向けネットワーク」として Canton Network がその課題を解決しているかを紹介します。議論の前提は *Canton Network はブロックチェーンではない、分散型台帳技術の 1 つ* ということです。

### Canton が目指すミッション・設計思想
Canton Network の目指すものは、従来の金融資産・取引市場を金融機関の求めるプライバシー要件に準拠して電子化できる環境です。例えば機関ごとに隔離されたデータ領域を構築できる機能と GDPR に準拠した最小限のデータの共有機能、金融取引を念頭に置いた隔離されたデータ領域間での相互連携を実現しています。そのため上で挙げた課題に対して、下のように対応しています。

なお、Canton Network は先ほども述べたようにブロックチェーンではなく分散型台帳技術として、従来のブロックチェーンでは当然な、「単一チェーン上で全データ(トランザクションの内容を含む)を共有する」方式ではありません。 **複数の隔離されたネットワーク Sync Domain** を跨いだトランザクションの処理には、共通の通信レイヤーとして Global Synchronizer をもちます。また、DVP 決済(Delivery Versus Payment：引き渡しと支払を連動させ、証券と資金授受のタイミングを揃える決済手法) が可能な、アプリケーションが相互運用する **ネットワークオブネットワーク** つまり隔離されているネットワークの連合体として設計されています。

1. 選択的な匿名性
自身の関連するコントラクト・トランザクションのみ閲覧可能となり、ノード自体も、自身の検証に必須な部分のデータのみを保有・検証します。金融機関が求める、取引に関連する相手への情報の制限に対応し、開発者が情報共有の幅を選択可能になっています。もちろん、スマートコントラクトの実装により、公開できます。
1. 監査適合性・証跡の完全性
他のパブリックブロックチェーンと同様に、Canton Network においても自身の関連するコントラクト・トランザクションについては全ての処理ログが記録されますので、監査にも対応可能です。
1. 高可用性
完全にはパブリックではなく、バリデータ参加には運営主体もしくは他のサービスプロバイダーからの承認が必要です。複数のノード運営者がおり、現在では 13 の Super Validator (ブロック生成等を担当)、672 の Validator ( Super Validator の生成したブロックの検証)が Canton Network を運営しており、Sync Domain を跨いだ可用性は十分に確保されています。
なお、各 Sync Domain においては、それぞれ別の Super Validator/Validator の集合を持つため、 Sync Domain ごとの可用性は各 Domain に依存します。
1. ガバナンス・責任分離
Canton Network では、トランザクションデータは全て当事者間以外にとっては暗号化された状態で実行・検証が進行します。また、 Sync Domain を跨いだトランザクションについては Global Synchronizer を通過するものの、同じく暗号化された状態で処理されます。 Sync Domain 内で閉じるトランザクションについては、各 Sync Domain に責任が分離されていますし、 Domain を跨いだトランザクションについても、処理・検証のみのインフラが提供されるのみとなります。
上でも述べたように、 Sync Domain においては、それぞれネットワークごとにインフラを管理するため、権限は各ネットワークの管理可能な範囲に分離されています。
1. ファイナリティ
トランザクションは、トランザクションに関係するノードの承認がなされ、コミットされるまで確定しません。ノードの承認がなされれば、それぞれのノードの残高等は即座に書き変わり、後で書き変わることはありません。もし一人でもトランザクションに関係するノードがそのトランザクションを承認しない場合は、トランザクション自体がロールバックされ、なかったものとして扱われます。

なお、 Canton Coin が存在するのは、デフォルトで存在する公開された同期ドメイン、 Global Synchronizer の運用するネットワークです。下図は、Global Synchronizer と各 Sync Domain の関係及びドメインを跨ぐトランザクションの処理フローを示すものです。

<!-- textlint-disable -->
                     ┌───────────────────────────────────────────┐
                     │         Global Synchronizer (GS)          │
                     │     = 公開同期ドメイン（Canton Coin用）     │
                     │-------------------------------------------│
                     │ 運営主体：Super Validator                  │
                     │ 暗号化されたドメイン間トランザクションの中継  │
                     └──────────────┬────────────────────────────┘
                                    │
                                    │ ドメイン間トランザクション
                                    │ （暗号化された状態で処理）
                                    │
     ┌──────────────────────────────┼───────────────────────────────┐
     │                              │                               │
     ▼                              ▼                               ▼
┌─────────────────┐           ┌───────────────┐           ┌───────────────┐
│ 非公開 Domain A  │           │ 非公開 Domain B │           │ 非公開同期ドメイン C │
│ (金融機関)      │           │ (カストディアン) │           │ (その他)        │
│                │           │                │           │                │
└────────────────┘           └────────────────┘           └────────────────┘
      │                              │                               │
      │                              │                               │
      └──────────────────────────────┴───────────────────────────────┘
                   同一ドメイン内のトランザクションは
                   各ドメイン内で完結（GS を経由しない）
<!-- textlint-enable -->

本章のまとめとして、金融機関の求める事項をどのように Canton Network が満たしているかを表で示します。

| 要件                     | 金融機関からの要求事項                                                                                                                           | Canton Network での適合性                                                                                                                           |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------ |
| 選択的な匿名性 | - 取引データは原則として、関係当事者間でのみ共有されること<br>- 監査・検証時のみ、開示できること                                                                                     | 自身の関連するコントラクト・トランザクションのみ閲覧・検証可能                                                                                     |
| 監査適合性・証跡の完全性         | - 改ざんが不可能なこと<br>- 取引のトレース情報が取得できること                                                               | 自身の関連するトランザクションの検証・処理のログから監査対応が可能                                                                                     |
| 高可用性                  | 可用性が十分に高いこと                                                                                                                         | ネットワークごとに可用性は異なるが、 ネットワークを跨ぐトランザクションの処理にかかる可用性は十分に高い                                                                                                        |
| ガバナンス・責任分離             | 運営主体が明確であり、システムの責任分界点が明確であること                                                                                                               | トランザクションは暗号化されているため、ネットワークごとにほぼ全ての権限が分離されており、ネットワークを跨ぐトランザクションについても、処理・検証のインフラのみが整備されている |
| ファイナリティ                | 決済確定後に巻き戻ることがないこと  | トランザクションに関係するノードの承認後、コミットされれば確定                                                                                                                |

次章からは、 Canton Network の競合としてどういったものがあるかを示し、それぞれどのような優位性があるかを説明します。

## Canton Networkの競合と優位性

本節では、以下のような金融機関による利用が行われているチェーンについて、 Canton Network とどう異なったアプローチで、要求仕様を満たしているのか紹介します。
- R3 Corda
- Avalanche L1s (旧 Avalanche Subnet)

1. R3 Corda
すでに稼働しており、金融機関向けの分散台帳として実績を持っている。規制対応や業務フローに合うように開発されており、多くの銀行・インフラ事業者が参加したコンソーシアムでの利用が進められています。よく知られているように、日本では SBI ホールディングスが米国 R3 社との合弁企業として "SBI R3 Japan" を立ち上げ、2019 年という早い段階から実証実験・展開を進めています。

### R3 Cordaの仕様
クローズなネットワーク(BN と呼びます。Canton Network では Sync Domain に近しい)を作成し、その中で検証ノードクラスター(Notary と呼びます)、他の実行ノード、アプリ用ノードなどを作成し、クローズなネットワーク内で処理が可能です。BN ごとに異なるポリシー、異なるコントラクトの仕様を設定でき、各機関やグループごとに異なる要件を持つことができます。トランザクションは同一 BN 内で順序付け・完結するため、BN 外には原則トランザクションデータは送付されませんので、データの漏えいは原則起きません。

### R3 Cordaの機能概要
1. 選択的な匿名性
Canton Network と同様に、自身の関連する取引の情報のみ閲覧可能となり、ノード自体も、自身の検証に必須な部分のデータのみを保有・検証します。
1. 監査適合性・証跡の完全性
Canton Network と少し異なり、ネットワーク全体で統一された取引の順序付けはされませんが、関連する当事者のログを確認することで順序を検証できます。そのため、Corda R3 においても監査に対応可能です。
1. 高可用性
検証ノードクラスターを BN 作成時に指定する必要があります。このクラスターは BN のポリシーに依存して決められ、単一の団体が運営することも複数の団体が運営することもあり、 BN ごとに可用性は異なります。
1. ガバナンス・責任分離
Corda では、Canton Network のような全 BN にまたがった Global Synchronizer は存在しません。そのため、各 BN 内では、信頼できるノードのみが存在し、各 BN の検証ノードクラスターのみにガバナンスが依存します。

一番大きな Canton Network との違いは、全ての BN が独立したチェーンといえるので、BN 間の相互作用は非常に限定的でブリッジのようなアプリを作る必要があるということが挙げられます。

1. Avalanche L1s
Avalanche は、X-Chain/P-Chain/C-Chain の異なる特性を持つチェーンからできるマルチチェーン構造を採用した、ブロックチェーンです。従来サブネットと呼ばれていたカスタム L1 機能を持っており、独自のガバナンス・エコノミクス、コンプライアンスを設定できる独立したチェーンを簡単に設定できます。こちらもよく知られているように、三井住友フィナンシャルグループは Ava Labs と協業し、ステーブルコインの事業化を視野に入れた共同検討を 2025 年 4 月から開始しています。

### Avalanche L1sの仕様
L1s 開発者は、バリデータのクラスター・トランザクションを実行する実行マシン、トークンエコノミクス・ガバナンス・コンプライアンスを全てカスタムできます。しかし、L1s を作成するためには、Avalanche P-Chain において手数料の支払・登録するバリデータ情報の登録・IP 情報の登録をする必要があります。これにより、P-Chain に密に情報連携した状態で新しい L1 を作成できつつ不正行為（特にバリデータ自体の登録・削除）は Avalanche P-Chain に記録され、L1 側で攻撃してもその記録を消すことはできなくなります。

### Avalanche L1sの機能概要
1. 選択的な匿名性
Avalanche L1s においては、開発者がカスタム可能なため、コンプライアンス要件に従い、必要に応じて Canton Network や Corda と同様の許可制機能を自身で実装・設定できます。
1. 監査適合性・証跡の完全性
上と同じく、開発者がカスタム可能です。なお、Avalanche P-Chain/C-Chain では、通常のブロックチェーンと同様に厳密なトランザクションの順序付けがなされているため、同様の仕組みを採用することで監査適合性を持つことができます。
1. 高可用性
Canton Network や Corda と同じく、独自のバリデータクラスターを持ちます。
1. ガバナンス・責任分離
Corda とほぼ同様に、各 L1 のバリデータクラスターのみにガバナンスが依存します。なお上でも述べたように、P-Chain はあくまで L1 のバリデータ情報や IP 情報の保存及び Stake されている AVAX 等の緊急対応機能があるのみで、ガバナンスに影響は及ぼしません。

Canton Network との違いは、カスタム性が非常に高い分、実装コストの高い可能性があること、全ての L1s は独立したチェーンなことから、相互作用にはブリッジのようなアプリが同様に必要なことです。

## Canton Networkのユースケース
Canton Network が実際に利用されている・利用されようとしているユースケースについて紹介し、概要についてまとめます。

- トークン化債券・証券
- 担保付き取引、証券等の清算・決済
- カストディ

### トークン化債券・証券
トークン化資産の発行と管理：債券、国債、保険商品等などの**実世界資産 (RWA)**をオンチェーンで表現し、そのライフサイクル全体（発行から償還まで）を管理します。現在のバーゼル規制によれば、パブリックブロックチェーン上での無担保資産には 1250%のリスクウェイトが適用されます。Canton Network は、分離された Sync Domain を持つ、現行の規制準拠の構造を提供することで、将来的にこの規制を回避することを目指しています。

### 担保付き取引、証券等の清算・決済
デリバティブ取引等での証拠金として、トークン化された資産・債権等を用い、清算を自動化します。Canton Network においては、複数の Sync Domain での DVP 決済が可能なため、複数の金融機関がそれぞれ管理する資産の清算・取引が可能となります。また、トランザクションは一体として処理されるため、即時決済にも利活用できます。

### カストディ
Taurus のような主要なカストディアンがすでに Canton Network に参加しており、規制環境下での資産管理を進めています。

最後にここまでの内容をまとめ、概要編を終了します。

## Canton Networkについてのまとめ（中間）
ここまで、 Canton Network が金融機関の求める要求事項を満たし、分離されたネットワークを持つ分散型台帳となっていることを示しました。また R3 Corda に非常に似通った仕様を持っているものの、相互運用性を重要視し、かかわるユースケースに力を注いでいます。

後半では、Canton Network のアーキテクチャや技術的な強みを紹介し、より技術者向けに Canton Network を紹介します。
<!-- textlint-disable -->
<!-- markdownlint-disable -->
## Canton Networkのアーキテクチャ
Canton Network を Ethereum と比較すると、次のような差異があります。

### Ethereum：単一台帳モデル
                         ┌────────────────────────────────────┐
                         │          Ethereum Mainnet          │
                         │     （単一のグローバル台帳）        │
                         │────────────────────────────────────│
                         │  • Validator Set（バリデータ）   │
                         │  • Block Proposer（提案者）          │
                         │  • MEV Supply Chain                  │
                         │      - Searchers（アービトラージ等） │
                         │      - Builders（ブロック構築）       │
                         │      - Relayers（検閲耐性中継）       │
                         └──────────────┬─────────────────────────┘
                                        │
          ┌─────────────────────────────┼────────────────────────────┐
          ▼                             ▼                            ▼

   Full Node                       RPC Node                     L2 Rollups
 （全履歴保持）                   （台帳参照）                （トランザクション圧縮）
   │                                   │                            │
   │  検証・同期・状態管理              │  送信・読み取り API         │  状態遷移・Proving
   │                                   │                            │
   └───────────────────────────────────┴────────────────────────────┘

#### 特徴
- 全ノードは全ブロックデータ（トランザクションを含む）を実行・検証し、同一のブロックチェーンの状態を保持する
- 上のトランザクションの実行に際し、トランザクションの中身も全ノードに公開される
- スマートコントラクトは単一種類のVMであるEVM上で実行される
- プライバシーは実装されておらず、Layer2 もしくは ZKP の利用が必須となる

#### ステークホルダー・ノード
- Validator（バリデータ）
   - Beacon Chain で登録されたETHステーカー
   - 提案ブロックの検証、アテステーション（投票）を担当

- Block Proposer（ブロック提案者）
   - エポックごとにバリデータの中から選ばれる
   - Relayer経由でBuilderが構築したブロックを提案

- MEV ステークホルダー
   - Searcher：サンドイッチ・アービトラージ・清算などの状況を確認し、最も利益の出るTXバンドルを収集
   - Builder：取引の順序を最適化し MEV 収益が最大化されるブロックを構築
   - Relayer：Builder → Proposer 間の中継、検閲耐性と秘密保持を提供

### Canton Network：複数同期 Domain + Global Synchronizer（非ブロック構造）
Super Validator は、 Global Synchronizer において、トランザクションの順序付け(Sequencer)、トランザクション関係者の合意(2相コミット)の調整(Mediator) を取っています。公開同期ドメインとして、まとめて Super Validator が行っていますが、他の非公開同期ドメインにおいては、 Sequencer, Mediator を分けておくことも可能です。

                          ┌─────────────────────────────────────────────┐
                          │           Global Synchronizer (GS)           │
                          │        = 公開同期ドメイン（分散型 vCSP）         │
                          │─────────────────────────────────────────────│
                          │ 運営主体: Super Validator     │
                          │  • BFT Sequencer（順序付け）                   │
                          │  • BFT Mediator（2相コミット調整）             │
                          │  ※ メッセージ内容は見ない（暗号化）            │
                          └───────────────┬──────────────────────────────┘
                                          │
        ┌─────────────────────────────────┼──────────────────────────────────┐
        ▼                                 ▼                                  ▼

┌────────────────────┐                                         ┌─────────────────────┐
│ 非公開同期ドメイン A │                                         │ 非公開同期ドメイン B  │
│   （金融機関）        │                                         │    （カストディアン） │
│ ─────────────────── │                                         │ ─────────────────── │
│   Sequencer         │                                         │   Sequencer         │
│   Mediator          │                                         │   Mediator          │
└─────────────┬──────────┘                                         └──────────────┬───────────┘
              │                                                               │
       ┌──────┴─────────┐                                             ┌──────────┴───────────┐
       ▼                ▼                                             ▼                       ▼

Participant (Bank)   Participant (App/Wallet)                 Participant (Custodian)   Participant (Broker)

#### 特徴
- ブロックチェーンとは異なり、全ノードが同期するブロックは存在しない
- 各同期ドメインに独立した Sequencer, Mediator が存在し、同期ドメイン内でのトランザクションの順序付け、関係者の合意調整を行う
- クロスドメインのトランザクションのみ、Global Synchronizerを経由して処理される
- トランザクションデータは原則として暗号化されており、トランザクションの関係者しか復号化できない
- $CC については、公開同期ドメインでトランザクションが処理されるため、公開される

#### ステークホルダー・ノード

- Sequencer
  - ドメイン内のトランザクションを順序付け
  - ドメイン内のトランザクションの整合性を検証
- Mediator
  - ドメイン内の
- Super Validator
  - Global Synchronizer（公開同期ドメイン）での、同期ドメインを跨ぐトランザクションの関係者の合意を調整

• BFT Sequencer（順序付け）

GS に送られる暗号化トランザクションにグローバル順序とタイムスタンプを付与

内容は見えずメタデータのみ参照

クロスドメイン取引に共通の時間並びを提供

• BFT Mediator（2相コミット調整）

異なる同期ドメイン間を跨ぐトランザクションを 2PC（2 Phase Commit）で調整

全参加者が「コミット or 全ロールバック」になるよう 2/3 BFT 合意を実行

Canton Network 全体のアトミック性を担保

--- ② 同期ドメイン（Private Sync Domain）運営者（CSP / Domain Operator）

同期ドメイン A（金融機関）、同期ドメイン B（カストディアン）等の独立サブネットを運営する。

• Domain-level Sequencer

そのドメイン内の全メッセージを順序付け

ローカル決定論的実行の整合性を保証

GS と異なり単一の企業が運営することも可能

• Domain-level Mediator

同期ドメイン内のマルチパーティ取引を 2PC で調整

クロスドメインの場合は GS の Mediator が最上位で調整する

（※ 非公開ドメインでは Sequencer と Mediator を別ノードに分離してもよい）

--- ③ Participant Node（アプリ・金融機関・カストディアン等）

実際にビジネスロジック（Daml コントラクト）を実行し、トランザクションの一部を検証する Deterministic Execution Node。

• Participant Node（銀行 / カストディアン / ブローカー / アプリ運営者）

Daml コントラクトロジックを実行

プライベートステートを保持

当事者（Stakeholder）として 自分が関係するトランザクションのみを検証（Proof-of-Stakeholder）

必要な同期ドメインに接続し、取引相手ノードとエンドツーエンド暗号化でメッセージ交換

## Canton Networkの優位性
R3 Corda をベースとして、データ領域ごとの相互作用が難しかった点を拡張させた分散型台帳技術というのが最もわかりやすい考え方です。Interoperability を重要視し、必須化するために、 DAML というデータモデルを標準とし、同期ドメイン間の相互作用ができるようになりました（スマートコントラクトの実行環境・データ体系が揃うため）。Corda では、開発者のカスタマイズ性を上げるために、データモデルも含め、同期ドメインごとに選択可能としたため、互いの同期が難しかったという点がありました。

通常のチェーンとどう違うか、について、特に次の項目に絞り説明します。

- ブロックチェーンではない、分散型台帳技術
- アカウントモデル
- コンセンサスモデル
- 同期ドメイン間のInteroperability
- データモデル・DAML

### 非ブロックチェーンの分散型台帳技術
Canton Network は、 Ethereum のような、取引が一定間隔でブロックに取り込まれ、ブロックをすべて検証することで、全ノードが同一の状態に同期する仕組み（いわゆるブロックチェーン）ではありません。自身にとって関係のある取引のみを保存し、ネットワーク全体では全データが存在するような台帳を作ることを目的としています。

画像貼り付け

上の画像では、Alice, Bob, Charlie がそれぞれ自身に関係する取引のデータのみを持っている様子を示しています。

- 選択的可視性・プライバシー制御：取引の内容・当事者を限定して見せられる制御能力
- Validator/Super Validator や participant などの構造の特徴：プライバシーと性能を両立するアーキテクチャ設計
- アプリサポートにおける特徴：複数ドメイン／アプリをまたぐ一貫性保証
- モジュール性・拡張性：サブネット構造、必要なときに同期可能、将来的な拡張設計
- 適切なトークン設計・インセンティブ整合性：バーン・鋳造バランス、手数料モデルとの整合性
- ノード運用参加の選択肢：自営ノード、ホスト型、CSP／vCSP モデルなど
- 法制度感応性：許可制／アクセス制御・監査性設計がしやすい点
- 高信頼性・フォールト耐性設計：異常ノード排除・冗長ルーティングなど

## Canton Networkのアーキテクチャ・強み

最終盤のノード運用者のかかわり方の話をするために、記載する。

- ノード構造とブロックチェーンのデータ・状態管理
- Participant Node（ローカル状態・契約実行環境）
- 暗号化されたトランザクションを受け取って順序付け・配布する中間層の仕組み
- 検閲保護の仕組み
- スーパーバリデーター・BFT セグメント構造
- トークン設計・経済モデル
- Canton Coin の鋳造・バーン方式、手数料支払モデル、循環制御
- ノード運用／アプリ運営者への報酬インセンティブ
- 同期・整合性・フォールト耐性戦略
- パフォーマンス・スケーラビリティ設計


## ノード運用者・アプリ開発者としてのかかわり方

インセンティブプログラムについて紹介予定。バリデータだけではなくて、アプリ開発者に対してもインセンティブがあったはず。そのあたりを特に説明予定。

- バリデーター参加方法：ノード起動・申請フロー（Global Synchronizer Foundation への申請）
- ノード／CSP モデル：自営型ノード運用 vs ホスト型提供者を使うオプション
- 報酬獲得：ノード稼働インセンティブ（バリデータ報酬、鋳造報酬、スラッシングルールなど）
- Daml アプリ開発：Canton 用アプリ設計上の考慮事項・ドキュメント参照箇所
- テスト・統合環境：ローカルネット、DevNet、ステージング環境運用の勧め
- 運用注意点：可用性、監視、ソフトウェアアップデート、障害時リカバリ戦略
- セキュリティ注意点：鍵管理、通信暗号化、ノードの分離性
- 参入ハードル：初期投資（ハードウェア・運用コスト）、信頼／信用審査、参加許可プロセスなど

## まとめ

あんまり書くことはない気がするが一応適当にまとめる。

[google](https://google.com)


参考文書
https://trust-mf.or.jp/pdf/other/2024_02.pdf
https://corporate.jpyc.co.jp/news/posts/first-yen-stablecoin-jpyc

https://corporate.jpyc.co.jp/news/posts/BusinessStrategy202302
https://www.meti.go.jp/policy/mono_info_service/digital_architecture/circularEconomy_blockchain_guideline.pdf


# 🔷 ① チェーン構造の根本的な違い（1枚図）


# 🔷 ② 台帳構造・データ保持の違い
Ethereum
全ノードが：
 - 全アカウントの残高
 - 全コントラクトコード
 - 全履歴
を保持する

Canton
Participantノードは：
 - 自分が当事者の契約（Daml Contract）だけ保持
 - 他者の契約は保持しない
 - 暗号化された view のメタデータのみ共有


→ Ethereum：全体共有台帳
→ Canton：当事者だけの“仮想的に共有された”台帳

# 🔷 ③ トランザクション処理フローの比較
Ethereum（例：Alice → Bob）
Alice TX送信
     ↓
全ノードが検証
     ↓
コンセンサス（PoS）
     ↓
ブロックに書き込み（全員が履歴保持）


特徴：

TXは全員が読み、全員が検証する

全履歴が全ノードに公開

Canton（例：Alice → Bob + 別ドメイン資産とのアトミック DvP）
① Participant が TX を view に分割（当事者ごとの部分情報）
② 暗号化された view を Sequencer へ送信 → 並び順が決まる
③ 当事者 Participant だけが内容を検証
④ Mediator が BFT で「commit/reject」決定
⑤ 当事者以外は内容を知らないが ordering は全体で整合


特徴：

内容は当事者＋必要関係者のみ知る（Need-to-know）

Sequencer/Mediator は暗号化されたまま処理（内容を読まない）

複数DomainのTXも1つの論理トランザクションとして確定

全ノードに公開されるのは ordering とメタデータのみ

# 🔷 ④ セキュリティ・プライバシー比較表
観点	Ethereum	Canton Network
台帳モデル	全体共有1本	Domainごとの独立台帳
履歴保持	全ノードが全履歴保持	当事者のみ履歴保持
プライバシー	原則ゼロ（透明）	Need-to-know（部分暗号化）
相互運用性	チェーン外ブリッジ必須	GSにより標準実装
ファイナリティ	確率的（PoS）	決定論的・即時（Mediator）
コンセンサス範囲	全ネットワーク	Domain単位（GSで統合）
スケーリング	L2依存	Domainの水平増設でスケール


下は消す
### ネットワークの基本構成・主要コンポーネント（Global Synchronizer、sync ドメイン、Participant Node、ネイティブトークンなど）
Canton Network は従来のブロックチェーンにおける「単一チェーン上で全データ(トランザクションの内容を含む)を共有する」方式ではなく、 **複数のデータ領域(Sync Domainと呼びます)** が協調し、その上でアプリケーションが相互運用する **分散した金融インフラの連合体** として設計されている。

この構造により、

完全公開台帳を回避しつつ

アプリ間のアトミック決済（DvP/PvP） を可能にし

高いプライバシー と 可用性 を両立する

という、金融機関特化のアーキテクチャが実現されている。

### 全体構成図（簡易）
                          ┌───────────────────────────┐
                          │   Global Synchronizer      │
                          │  (Sequencing & Coordination) │
                          └───────────────┬─────────────┘
                                          │
                          ┌───────────────┴───────────────┐
                          ▼                                   ▼
                ┌────────────────┐                 ┌────────────────┐
                │  Sync Domain A │                 │  Sync Domain B │
                │ (CSP運営/Private)│                 │ (vCSP運営/Public)│
                ├────────────────┤                 ├────────────────┤
                │ Sequencer      │                 │ Sequencer      │
                │ Mediator       │                 │ Mediator       │
                │ Topology Mgmt  │                 │ Topology Mgmt  │
                └───────┬────────┘                 └───────┬────────┘
                        │                                  │
        ┌───────────────┴──────────────┐     ┌─────────────┴──────────────┐
        ▼                              ▼     ▼                              ▼
┌───────────────┐         ┌────────────────┐     ┌────────────────┐   ┌───────────────┐
│Participant Node│         │Participant Node│     │Participant Node│   │Participant Node│
│  (Bank A)      │         │ (Custodian)    │     │ (DeFi / OTC)   │   │ (Wallet CSP)   │
└───────────────┘         └────────────────┘     └────────────────┘   └───────────────┘
             │                     │                    │                       │
             └───────Daml App──────┴───────Daml App─────┴───────Daml App────────────┘

## ① Global Synchronizer（GS）
役割：ネットワーク全体の“並行性制御と同期”

Global Synchronizer は Canton Network の中核であり、

各 Sync Domain の状態の整合性保持

トランザクションのクロスドメイン同期

重複・競合の排除

Canton Coin の総供給量管理

などの 「金融インフラとしての整合性維持レイヤ」 を担う。

⮕ ただし、取引内容は一切見ない。暗号化されたメタデータのみ扱う。

## ② Sync Domain（同期ドメイン）
役割：プライバシー境界＋権限境界＋実行環境

Sync Domain は「アプリケーションが所属するレイヤ」であり、
ブロックチェーンで言えば サブネット（Subnet） に近い概念。

しかし Avalanche Subnet と大きく違う点は：

全ドメインが標準プロトコルで相互運用（互換性100%）

全ドメインの ordering を GS が統合

データはプライバシーに応じて暗号化される

という点。

構成要素（3つ）
コンポーネント	役割
Sequencer	メッセージの全順序付け
Mediator	トランザクションの最終決定（commit / reject）
Topology Manager	PKI管理、参加者の権限管理（誰が誰の代表か）

⮕ Sync Domain は CSP（Cloud Service Provider）が運営する場合と、
金融機関が自営で立てる Private Domain が存在する。

## ③ Participant Node（参加者ノード）
役割：契約（Daml）と状態を保持する“実装ノード”

Participant Node は各企業（銀行・証券会社・カストディ・アプリ開発者）が運営するノード。

自社が関与する契約だけ保持（Need-to-know）

他社の契約は保持しない

Daml アプリを実行する“スマートコントラクト VM”

トランザクションの検証を担当

ブロックチェーンの「フルノード」に相当するが、
自分に関係するデータしか保持しない点が大きく異なる。

## ④ ネイティブトークン（Canton Coin: CC）
役割：ネットワーク手数料と経済インセンティブ

sequencer & mediator の利用に必要な ネットワーク手数料として消費

CSP / validator / super validator への報酬

GS により 供給量・インフレ・バーンが制御

ただし：

金額・送金先などの情報は秘匿

取引の ordering は公開メタデータとして GS に届く

という非常にユニークなトークン設計。

⮕ Ethereum のような透明残高型ではなく、秘匿 UTXO / 秘匿アカウントのハイブリッドに近い。

### 公開性・許可制・プライバシー設計（まとめ）

Canton Network は以下を同時に満たす「金融チェーン」アーキテクチャ：

要素	Canton の設計
公開性	GS の ordering は公開。ただし内容は秘匿
許可制	Sync Domain ごとに参加者認証が必要（CSP/金融機関）
プライバシー	View 暗号化により必要当事者以外は payload を読めない

→ “透明なオーダー + 秘匿された内容 + 相互運用可能” という唯一の構造


### 開発主体・関与機関・設立経緯（主に開発主体・関連団体）
Canton Network は 2014 年に設立された Digital Asset 社により開発されていますが、ネットワークを跨ぐトランザクションやCanton Coin の運営は Linux Foundation 傘下である Global Synchronizer Foundation によって行われており、開発主体と運営主体は明確に分離されています。

### ネットワークのステークホルダー
Canton Networkのエコシステムには、ネットワークの成長に寄与し、$CCを報酬として獲得する次の4つのロールが存在します。
1. スーパーバリデータ
     Cumberland, Circle, Taurusのような暗号資産業界における主要なプレーヤーがCanton Networkのコアインフラのプロバイダとして参加しています。スーパーバリデータは上で記載した通り、全Sync Domainを跨いだトランザクションの順序付け、$CCのトランザクションの検証、ガバナンス運営を担当します。
2. バリデータ
     ○○、○○のようなスーパーバリデータと同様の暗号資産業界において多くの影響力を持つプレーヤーが参加しています。上で記載していた通り、自身に関連するトランザクションのみを検証し、スーパーバリデータの動作を検証します。
3. アプリケーションプロバイダ
     Canton Network上にスマートコントラクトや、様々なユースケースを持つdAppsを構築します。これにより、$CCの報酬を得る場合があります。
4. ユーザー
     $CCを保有し、Canton Networkを利用する全ての人を示します。

### ネットワークの公開・許可性・プライバシー設計の概要
Canton Network は、一般的なブロックチェーンと異なり、分散型台帳技術として独自のアーキテクチャで構築されたネットワークです。大きな特徴として、以下の３つが挙げられます。

1. トランザクションの内容の秘匿性/トランザクションの順序の公開性
Canton Network では、 スーパーバリデータに到達したトランザクションは順番が固定されネットワーク内に共有される。この際、トランザクションの中身は暗号化されており、当該トランザクションに関連するフルノードしか復号できない。
こうして、透明性を維持しつつ、データ自体は秘匿できる。

1. ネットワーク(ドメイン)分離性
Canton Networkは、トランザクションの処理するスーパーバリデータ及びスーパーバリデータの運営を検証するバリデータを許可制にしています。Canton Networkではデータ領域として、公開ネットワーク（$CC canton coinの存在するネットワーク）とそうでない非公開ネットワークが存在します。このネットワークは、同一のGlobal Synchronizerを経由して接続することができる、サブネットに近しいものです。

ただ、Canton Networkはブロックチェーンではないため、サブネットごとにトランザクションの検証を実施するスーパーバリデータを置く必要はありますが、サブネットごとに検証機能を分離することで、例えば機関ごとに分離したり異なったポリシーを持たせるなどのよりセキュアな設定が可能になります。

トランザクションの実行は各ドメインで行いますが、トランザクションの順序は、全ドメイン間で共通なため、ドメイン間での情報・資産のやり取りも行え、機関・ドメインを跨いだアトミックなトランザクションを実装することも可能です。

まとめると、Canton のアーキテクチャは、第1節で提示した種々の課題について、公開性・許可性・秘匿性という 3 軸で最適化することで解消しています。この後、第1節で論じた要件を満たす他のチェーンとそれに対するCanton Netoworkの強みを紹介します。
<!-- textlint-enable -->
<!-- markdownlint-disable -->

参考資料はこちらです。
- [Principles for Financial Market Infrastructures (PFMI)](https://www.bis.org/cpmi/info_pfmi.htm)
- [金融市場インフラのための原則](https://www.fsa.go.jp/inter/ios/20120416-1/07-2.pdf)
